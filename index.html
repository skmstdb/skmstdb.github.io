<!DOCTYPE html>
<html lang="ja">

<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-6C7BJGKMFT"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-6C7BJGKMFT');
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="description" content="堺雅人データベース【非公式】 / Sakai Masato Database [Unofficial]">
    <meta name="keywords" content="堺雅人, Sakai Masato, Masato Sakai, Database">
    <title>Sakai Masato Database</title>

    <link rel="icon" type="image/png" sizes="32x32" href="/favicon.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon.png">

    <!-- Site globals: color vars + dark mode -->
    <link rel="stylesheet" href="css/style.css">
    <script src="js/mobileview.js"></script>
    <script src="js/darkmode.js"></script>

    <style>
        :root {
            --bg-color: #f6f4ef;
            --border-color: #000000;
            --text-color: #000000;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --bg-color: #121212;
                --border-color: #333333;
                --text-color: #f9f9f9;
            }
        }

        /* ── Full-screen layout ── */
        html,
        body {
            height: 100vh;
            width: 100vw;
            overflow: hidden;
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            position: fixed;
        }

        html,
        body,
        * {
            font-family: "ヒラギノ明朝 ProN", "Hiragino Mincho ProN", "Yu Mincho", "YuMincho", serif;
        }

        body {
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-color);
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        /* ── Outer wrapper: two panels, 70% of page height ── */
        .hp-layout {
            display: flex;
            flex-direction: row;
            width: calc(100% - 80px);
            height: 70vh;
            gap: 20px;
            box-sizing: border-box;
            align-items: stretch;
            justify-content: center;
        }

        /* ────────────────────────
           LEFT: entry block
        ──────────────────────── */
        .hp-block {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            border: 4px solid var(--border-color);
            border-radius: 20px;
            padding: 30px;
            text-decoration: none;
            color: var(--text-color);
            background-color: var(--bg-color);
            cursor: pointer;
            box-sizing: border-box;
            transition: all 0.3s ease;
        }

        .hp-block:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .hp-block:active {
            transform: translateY(2px);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .dark-mode .hp-block {
            border-color: var(--border-color);
        }

        .hp-block-title {
            font-family: 'Helvetica Neue', Arial, sans-serif;
            font-size: clamp(2rem, 5.5vw, 4rem);
            font-weight: bold;
            line-height: 1.3;
            letter-spacing: 2px;
            text-align: left;
        }

        /* ────────────────────────
           RIGHT: carousel
        ──────────────────────── */
        .hp-carousel-outer {
            flex: 1;
            border: 4px solid var(--border-color);
            border-radius: 20px;
            overflow: hidden;
            position: relative;
            box-sizing: border-box;
            background-color: var(--bg-color);
            transition: all 0.3s ease;
        }

        .hp-carousel-outer:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .hp-carousel-outer:active {
            transform: translateY(2px);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .dark-mode .hp-carousel-outer {
            border-color: var(--border-color);
        }

        .carousel-track {
            display: flex;
            height: 100%;
            will-change: transform;
        }

        .carousel-slide {
            flex-shrink: 0;
            height: 100%;
            min-height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 30px 24px;
            box-sizing: border-box;
            text-decoration: none;
            color: var(--text-color);
            transition: background-color 0.3s;
        }

        .carousel-slide:hover {
            background-color: rgba(0, 0, 0, 0.025);
        }

        .dark-mode .carousel-slide:hover {
            background-color: rgba(255, 255, 255, 0.04);
        }

        .slide-name {
            font-size: clamp(1rem, 2.5vw, 2rem);
            font-weight: bold;
            line-height: 1.4;
            margin-bottom: 14px;
            white-space: normal;
        }

        .slide-info {
            font-size: clamp(0.9rem, 1.5vw, 1.1rem);
            line-height: 1.7;
            opacity: 1;
        }

        .carousel-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            cursor: pointer;
            font-size: 18px;
            color: var(--text-color);
            opacity: 0.22;
            padding: 12px;
            transition: opacity 0.2s;
            z-index: 10;
            line-height: 1;
        }

        .carousel-btn:hover {
            opacity: 0.75;
        }

        .carousel-btn.prev {
            left: 6px;
        }

        .carousel-btn.next {
            right: 6px;
        }

        /* dots */
        .carousel-dots {
            position: absolute;
            bottom: 18px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: center;
            gap: 6px;
        }

        .dot {
            width: 5px;
            height: 5px;
            border-radius: 50%;
            background: var(--text-color);
            opacity: 0.2;
            border: none;
            padding: 0;
            cursor: pointer;
            transition: opacity 0.25s, transform 0.25s;
        }

        .dot.active {
            opacity: 0.65;
            transform: scale(1.45);
        }

        /* ── Disclaimer modal ── */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal-card {
            background-color: var(--bg-color);
            color: var(--text-color);
            border: 4px solid var(--border-color);
            border-radius: 20px;
            padding: 40px;
            max-width: 500px;
            width: 90%;
            position: relative;
            text-align: center;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            font-size: 24px;
            color: var(--text-color);
            cursor: pointer;
            padding: 5px;
            line-height: 1;
        }

        .modal-close:hover {
            opacity: 0.7;
        }

        .modal-text {
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 20px;
            text-align: left;
        }

        .modal-text:last-of-type {
            margin-bottom: 30px;
        }

        .modal-btn {
            background-color: var(--bg-color);
            border: 3px solid var(--border-color);
            border-radius: 15px;
            padding: 12px 30px;
            font-size: 1.1rem;
            font-weight: bold;
            color: var(--text-color);
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        .modal-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        /* ── Mobile ── */
        @media (max-width: 768px) {

            html,
            body {
                overflow: hidden;
                height: 100vh;
                position: fixed;
            }

            body {
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .hp-layout {
                flex-direction: column;
                width: 80%;
                max-width: 400px;
                height: auto;
                max-height: 80vh;
                padding: 16px 0;
                align-items: center;
                justify-content: center;
                gap: 20px;
            }

            .hp-block {
                width: 100%;
                min-height: 150px;
            }

            /* Fix carousel height explicitly on mobile */
            .hp-carousel-outer {
                width: 100%;
                height: 250px;
                min-height: 250px;
            }

            .carousel-track {
                height: 250px;
            }

            .carousel-slide {
                height: 250px !important;
                min-height: 250px !important;
            }

            .hp-block-title {
                font-size: clamp(24px, 8vw, 36px);
            }

            .slide-name {
                white-space: normal;
                font-size: 16px;
            }

            .slide-info {
                font-size: 13px;
            }

            .hp-block:hover,
            .hp-carousel-outer:hover {
                transform: translateY(-3px);
            }
        }
    </style>
</head>

<body>

    <div class="hp-layout">

        <!-- LEFT: entry block -->
        <div class="hp-block" onclick="showDisclaimer('skmst.html')">
            <div class="hp-block-title">SAKAI MASATO<br>DATABASE</div>
        </div>

        <!-- RIGHT: infinite carousel -->
        <div class="hp-carousel-outer" id="carouselOuter">
            <div class="carousel-track" id="track"></div>

            <button class="carousel-btn prev" id="prevBtn" aria-label="Previous">←</button>
            <button class="carousel-btn next" id="nextBtn" aria-label="Next">→</button>

            <div class="carousel-dots" id="dotsEl"></div>
        </div>

    </div>

    <!-- Disclaimer Modal -->
    <div class="modal-overlay" id="disclaimerModal">
        <div class="modal-card">
            <button class="modal-close" onclick="closeDisclaimer()">&times;</button>
            <p class="modal-text">This site is NOT an official site, with NO affiliation with Mr. Sakai Masato or his
                management.</p>
            <p class="modal-text">当サイトは非公式であり、堺さんおよび関係各所とは一切関係ございません。</p>
            <button class="modal-btn" onclick="acceptDisclaimer()">OK</button>
        </div>
    </div>

    <script>
        const SLIDES = [
            {
                name: '大河ドラマ『篤姫』ブルーレイ BOX',
                info: '2026年3月27日 発売',
                url: 'https://amzn.asia/d/00Yc8zWj'
            },
            {
                name: '『平場の月』Blu-ray &amp; DVD',
                info: '2026年4月24日 発売',
                url: 'https://amzn.asia/d/000fz4v8'
            },
            {
                name: '日曜劇場『VIVANT』',
                info: 'comeback in 2026',
                url: 'https://www.tbs.co.jp/VIVANT_tbs/'
            },
            {
                name: 'PARCO PRODUCE 舞台『スリーゴースト』',
                info: '2026年10月 PARCO劇場<br>2026年11-12月 全国ツアー（大阪、福岡、愛知、岡山、宮崎）',
                url: 'https://stage.parco.jp/program/threeghosts/'
            }
        ];

        const N = SLIDES.length;   // 4
        const TOTAL = N + 2;          // 6 (including two clones)

        const track = document.getElementById('track');
        const outer = document.getElementById('carouselOuter');
        const dotsEl = document.getElementById('dotsEl');

        // ── Build slides in DOM ──
        (function buildDOM() {
            const order = [SLIDES[N - 1], ...SLIDES, SLIDES[0]];

            order.forEach(s => {
                const a = document.createElement('a');
                a.href = s.url;
                a.target = '_blank';
                a.className = 'carousel-slide';
                a.innerHTML = `<div class="slide-name">${s.name}</div><div class="slide-info">${s.info}</div>`;
                track.appendChild(a);
            });

            // Track is TOTAL × outer width
            track.style.width = `${TOTAL * 100}%`;

            // Each slide = 1/TOTAL of track = 100% of outer
            document.querySelectorAll('.carousel-slide').forEach(s => {
                s.style.width = `${100 / TOTAL}%`;
            });
        })();

        // ── Build dots ──
        SLIDES.forEach((_, i) => {
            const b = document.createElement('button');
            b.className = 'dot' + (i === 0 ? ' active' : '');
            b.dataset.i = i;
            b.addEventListener('click', e => { e.stopPropagation(); jumpTo(i, true); });
            dotsEl.appendChild(b);
        });

        // ── State ──
        let trackPos = 1;
        let realIdx = 0;
        let busy = false;
        let timer;

        function translate(pos, animate) {
            track.style.transition = animate
                ? 'transform 0.55s cubic-bezier(0.65, 0, 0.35, 1)'
                : 'none';
            track.style.transform = `translateX(-${(pos / TOTAL) * 100}%)`;
        }

        translate(trackPos, false);

        function updateDots(idx) {
            document.querySelectorAll('.dot').forEach((d, i) => {
                d.classList.toggle('active', i === idx);
            });
        }

        function goNext(manual) {
            if (busy) return;
            busy = true;

            const nextPos = trackPos + 1;
            const nextReal = (realIdx + 1) % N;

            translate(nextPos, true);
            updateDots(nextReal);

            track.addEventListener('transitionend', function handler() {
                track.removeEventListener('transitionend', handler);
                trackPos = nextPos;
                realIdx = nextReal;

                if (trackPos === TOTAL - 1) {
                    trackPos = 1;
                    translate(trackPos, false);
                }
                busy = false;
            });

            if (manual) resetTimer();
        }

        function goPrev(manual) {
            if (busy) return;
            busy = true;

            const prevPos = trackPos - 1;
            const prevReal = (realIdx - 1 + N) % N;

            translate(prevPos, true);
            updateDots(prevReal);

            track.addEventListener('transitionend', function handler() {
                track.removeEventListener('transitionend', handler);
                trackPos = prevPos;
                realIdx = prevReal;

                if (trackPos === 0) {
                    trackPos = N;
                    translate(trackPos, false);
                }
                busy = false;
            });

            if (manual) resetTimer();
        }

        function jumpTo(idx, manual) {
            if (busy || idx === realIdx) return;
            busy = true;

            trackPos = idx + 1;
            realIdx = idx;

            translate(trackPos, true);
            updateDots(realIdx);

            track.addEventListener('transitionend', function handler() {
                track.removeEventListener('transitionend', handler);
                busy = false;
            });

            if (manual) resetTimer();
        }

        // ── Auto-play ──
        function startTimer() {
            timer = setInterval(() => goNext(false), 4500);
        }
        function resetTimer() {
            clearInterval(timer);
            startTimer();
        }
        startTimer();

        // ── Controls ──
        document.getElementById('nextBtn').addEventListener('click', e => { e.stopPropagation(); goNext(true); });
        document.getElementById('prevBtn').addEventListener('click', e => { e.stopPropagation(); goPrev(true); });

        // Touch swipe
        let tx = 0;
        outer.addEventListener('touchstart', e => { tx = e.touches[0].clientX; }, { passive: true });
        outer.addEventListener('touchend', e => {
            const dx = e.changedTouches[0].clientX - tx;
            if (Math.abs(dx) > 40) dx < 0 ? goNext(true) : goPrev(true);
        });

        // Keyboard
        document.addEventListener('keydown', e => {
            if (e.key === 'ArrowRight') goNext(true);
            if (e.key === 'ArrowLeft') goPrev(true);
        });

        // Prevent navigation during busy transition
        document.querySelectorAll('.carousel-slide').forEach(a => {
            a.addEventListener('click', e => { if (busy) e.preventDefault(); });
        });

        /* ── Disclaimer ── */
        let pendingRedirect = null;
        function showDisclaimer(url) {
            pendingRedirect = url;
            document.getElementById('disclaimerModal').style.display = 'flex';
        }
        function closeDisclaimer() {
            document.getElementById('disclaimerModal').style.display = 'none';
            pendingRedirect = null;
        }
        function acceptDisclaimer() {
            if (pendingRedirect) window.location.href = pendingRedirect;
            closeDisclaimer();
        }
        document.getElementById('disclaimerModal').addEventListener('click', function (e) {
            if (e.target === this) closeDisclaimer();
        });
        document.addEventListener('keydown', e => { if (e.key === 'Escape') closeDisclaimer(); });
    </script>

</body>

</html>
